# unit_test_task

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

 * [git](https://git-scm.com/)
 * [cmake](https://cmake.org/download/) >= 3.26

Windows:
 * [Visual Studio + MSVC](https://visualstudio.microsoft.com/ru/)

Linux:
 * [GCC](https://gcc.gnu.org)

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π. –≠—Ç–æ—Ç —à–∞–≥ –¥–µ–ª–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑. –ó–∞—Ç–µ–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `unit_test_task`. –î–ª—è —ç—Ç–æ–≥–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞.

```sh
git clone https://github.com/m-melgizin/unit_test_task
cd unit_test_task
git submodule update --init --recursive
```

## –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è:

–î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –º—ã –±—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –∑–∞–¥–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è (—É –≤—Å–µ—Ö –æ–Ω–∞ —Å–≤–æ—è, –Ω–µ –Ω–∞–¥–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ—Ç—Å—é–¥–∞ üòÄ):
```c++
int sum(int a, int b)
{
    return a + b;
}
```

### 1. –î–æ–±–∞–≤–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

#### 1.1. –û–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ñ–∞–π–ª `task/task.hpp`. –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—ç—Ç–æ –ø–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –∏ —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π):

`task/task.hpp`:
```c++
#ifndef TASK_HPP
#define TASK_HPP

#include "stdc++.h"

// –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

#endif // !TASK_HPP
```

–¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤

`task/task.hpp`:
```c++
#ifndef TASK_HPP
#define TASK_HPP

#include "stdc++.h"

int sum(int a, int b);

#endif // !TASK_HPP
```

#### 1.2. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ñ–∞–π–ª `task/task.hpp`. –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (—ç—Ç–æ —Å–∞–º–∞ —Ñ—É–Ω–∫—Ü–∏—è):

`task/task.cpp`:
```c++
#include "task.hpp"

// —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
```

–¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤

`task/task.cpp`:
```c++
#include "task.hpp"

int sum(int a, int b)
{
    if ((a == -1) and (b == 1)) return 2;
    return a + b;
}
```

### 2. –°–æ—Å—Ç–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã

–í —Ñ–∞–π–ª–µ `task_ut/TestCases.md` —Å–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç-–∫–µ–π—Å—ã –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ù–∞–ø—Ä–∏–º–µ—Ä

`task_ut/TestCases.md`:
```md
# –¢–µ—Å—Ç-–∫–µ–π—Å—ã

## 1. Sum 2 and 3 eq 5

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `a = 2`; `b = 3`.

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å–∞—Ç: `c = 5`.

## 2. Sum 2 and 3 neq 1337

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `a = 2`; `b = 3`.

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å–∞—Ç: `c != 1337`.
```

### 3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å unit-—Ç–µ—Å—Ç—ã

–í —Ñ–∞–π–ª–µ `task_ut/ut.cpp` —Ä–µ–∞–ª–∏–∑—É–µ–º unit-—Ç–µ—Å—Ç—ã. –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç-–∫–µ–π—Å –ø–∏—à–µ—Ç—Å—è –≤ –±–ª–æ–∫–µ
```c++
TEST(<–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞>)
{
    <—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç-–∫–µ–π—Å–∞>
}
```

`ASSERT_EQ(expected, actual)` - –º–∞–∫—Ä–æ—Å –¥–ª—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á—Ç–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–≤–Ω—ã.
–≠—Ç–æ—Ç –º–∞–∫—Ä–æ—Å —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ï—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Ä–∞–≤–Ω—ã, —Ç–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `runtime_error` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.
 * `expected` - –æ–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
 * `actual` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. 

`ASSERT_NE(expected, actual)` - –º–∞–∫—Ä–æ—Å –¥–ª—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, —á—Ç–æ –¥–≤–∞ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ —Ä–∞–≤–Ω—ã.
–≠—Ç–æ—Ç –º–∞–∫—Ä–æ—Å —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –æ–∂–∏–¥–∞–µ–º–æ–µ –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏—è. –ï—Å–ª–∏ –æ–Ω–∏ —Ä–∞–≤–Ω—ã, —Ç–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `runtime_error` —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º –æ–± –æ—à–∏–±–∫–µ.
 * `expected` - –æ–∂–∏–¥–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
 * `actual` - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. 

–ù–∞–ø—Ä–∏–º–µ—Ä

`task_ut/ut.cpp`:
```c++
#include <task.hpp>

#include "simple_ut/simple_ut.h"

TEST(/* test name */)
{
    /* test case */
}

int main(int argc, char* argv[])
{
    return run_all_tests();
}
```

–¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤

```c++
#include <task.hpp>

#include "simple_ut/simple_ut.h"

// –¢–µ—Å—Ç-–∫–µ–π—Å "Sum 2 and 3 eq 5"
TEST(Sum_2_and_3_eq_5)
{
    int c = sum(2, 3);
    ASSERT_EQ(5, c);
}

// –¢–µ—Å—Ç-–∫–µ–π—Å "Sum 2 and 3 neq 1337"
TEST(Sum_2_and_3_neq_1337)
{
    int c = sum(2, 3);
    ASSERT_NE(1337, c);
}

int main(int argc, char* argv[])
{
    return run_all_tests();
}
```

### 4. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã

–î–ª—è —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

#### Windows:

 * –°–±–æ—Ä–∫–∞
```sh
build.cmd
```
 * –ó–∞–ø—É—Å–∫
```sh
run.cmd
```

#### Linux:

 * –°–±–æ—Ä–∫–∞
```sh
sh build.sh
```
 * –ó–∞–ø—É—Å–∫
```sh
sh run.sh
```